define(["require","exports","tslib","external/react","modules/clean/react/comments2/components/comments_pane","modules/clean/react/comments2/events","modules/clean/react/comments2/fetch_controller","modules/clean/react/css_timing","modules/clean/react/comments2/logger"],function(e,t,o,n,r,s,m,i,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=(function(e){function t(t){return e.call(this,t)||this}return o.__extends(t,e),t.prototype.componentWillMount=function(){s.Comments2Event.emit("reveal-comments2-in-pane")},t.prototype.componentWillReceiveProps=function(e){var t=this.props,o=t.user,n=t.shouldShowComments;if(e.shouldShowComments&&!n){var r=this.streamFromProps(e);o&&c.commentLogger.logEvent(o.id,"show_comments",r)}},t.prototype.componentWillUnmount=function(){this.props.user&&c.commentLogger.stopLoggingForUser(this.props.user.id)},t.prototype.streamFromProps=function(e){var t=e.currentFile,o=t.file_id,n=t.ns_id,r=t.sjid,s=e.sharedLinkInfo;return{id:o,linkUrl:s?s.url:void 0,ns_id:n,sjid:r,type:"file"}},t.prototype.render=function(){var e=this.props,t=e.currentFile,o=e.shouldShowComments,s=e.user,i=this.streamFromProps(this.props);return n.createElement("div",{className:"comments-pane-wrapper"},o&&n.createElement(r.CommentsPane,{previewType:t.preview_type||void 0,stream:i,viewer:s}),n.createElement(m.Comments2FetchController,{user:s,stream:i}))},t})(n.Component),l=i.requireCssWithComponent(p,["/static/css/comments2-sidebar-vflu2ROdS.css"]);t.CommentsWrapperComponent=l});
//# sourceMappingURL=comments_wrapper_component.min.js-vflUMMgxo.map