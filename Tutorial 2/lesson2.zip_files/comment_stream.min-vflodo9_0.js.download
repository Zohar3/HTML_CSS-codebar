define(["require","exports","tslib","react","classnames","spectrum_comments/thread","spectrum_comments/comment","spectrum_comments/comment_editor/comment_utils","spectrum_comments/comment_editor/comment_editor","spectrum_comments/comment_editor/components/post_bar"],function(e,t,n,o,a,r,i,d,c,s){"use strict";function m(e){return o.createElement(s.PostBar,n.__assign({},e,{postLabel:"Post",cancelLabel:"Cancel",disableCancelButton:e.isEmpty}))}Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeThreadID:"",content:d.createEmptyContent(),editedComment:void 0},t.onThreadActivated=function(e){return function(){t.setState({activeThreadID:e.id}),t.props.actionsAdapter.onThreadActivated(e)}},t.onStartEdit=function(e){t.setState({editedComment:e})},t.onEndEdit=function(){t.setState({editedComment:void 0})},t.handleClick=function(e){e.currentTarget===e.target&&t.setState({activeThreadID:""})},t.onCancel=function(){t.setState({activeThreadID:"",content:d.createEmptyContent(),editedComment:void 0})},t.onContentChange=function(e){e.isFocused&&t.props.actionsAdapter.onEditorFocused()},t.onPost=function(e,n){t.setState({content:d.createEmptyContent()}),t.props.actionsAdapter.onThreadCreated(e,n)},t}return n.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,d=t.className,s=void 0===d?"":d,u=t.commentComponent,l=void 0===u?function(e){return o.createElement(i.Comment,n.__assign({},e))}:u,p=t.editorComponent,h=void 0===p?function(e){return o.createElement(c.CommentEditor,n.__assign({},e))}:p,C=t.user,v=t.mentionsMatches,f=t.initialActiveThreadID,A=t.isMobile,E=n.__rest(t,["className","commentComponent","editorComponent","user","mentionsMatches","initialActiveThreadID","isMobile"]),T=this.state.activeThreadID;f&&0===T.length&&(T=f);var _=a(s,{"sc-comment-stream":!0,"sc-comment-stream-enabled":E.enabled}),M=null;C&&(M=h({author:C,className:"sc-comment-stream-editor",content:this.state.content,onContentChange:this.onContentChange,placeholder:"Write a comment",postSignalComponent:m,onCancel:this.onCancel,onPost:E.actionsAdapter.onThreadCreated,mentionsMatches:v,onMentionsQueryUpdated:E.actionsAdapter.onMentionsQueryUpdated}));var y=E.threads.map(function(t){return o.createElement(r.Thread,{key:t.id,actions:{onClickTimeCode:E.actionsAdapter.onClickTimeCode,onReply:function(e){return E.actionsAdapter.onThreadRepliedTo(t.id,e)},onMarkAsRead:function(){return E.actionsAdapter.onThreadMarkedAsRead(t.id)},onMarkAsUnread:function(){return E.actionsAdapter.onThreadMarkedAsUnread(t.id)},onResolve:function(){return E.actionsAdapter.onThreadResolved(t.id)},onUnresolve:function(){return E.actionsAdapter.onThreadUnresolved(t.id)},onEditorFocused:function(){return E.actionsAdapter.onEditorFocused(t.id)},onCommentDeleted:function(e){return E.actionsAdapter.onCommentDeleted(e)},onCommentEdited:function(e,t){return E.actionsAdapter.onCommentEdited(e,t)},onMentionsQueryUpdated:E.actionsAdapter.onMentionsQueryUpdated},active:t.id===T,commentComponent:l,editedComment:e.state.editedComment,onActivated:e.onThreadActivated(t),onCancel:e.onCancel,onStartEdit:e.onStartEdit,onEndEdit:e.onEndEdit,isMobile:A,thread:t,user:C,mentionsMatches:v})});return o.createElement("div",{className:_},!A&&M,o.createElement("ul",{className:"sc-comment-stream-threads",onClick:this.handleClick},y))},t})(o.PureComponent);t.CommentStream=u,r.Thread.displayName="Thread"});
//# sourceMappingURL=comment_stream.min.js-vflgBLbxW.map